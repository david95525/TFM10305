
@{
    ViewData["Title"] = "StoreOrder";
}

<h1>分店訂單數量分析</h1>

<input type="button" onclick="javascript:location.href='/ProductManage/Index'" value="後台管理" class="alert-primary" />
<input type="button" onclick="javascript:location.href='/ProductManageChart/Index'" value="後台分析" class="alert-success" />

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<div id="Vuechart">
    @*圖表*@
    <canvas id="myChart"></canvas>
</div>

<script>
    var app = new Vue(
        {
            el: '#Vuechart',

            mounted: function () {
                axios('/api/StoresApi/storeName')
                    .then(response => {
                        data.labels = response.data;
                    })//then(response =>
                //axios               
                axios('/api/Productsapi/StoreQuantity')
                            .then(Quantity => {
                                var Q = Quantity.data;
                                
                                for (var index = 0; index < 4; index++) {
                                    data.datasets[0].data.push(Q[index]);
                                };                                

                                @* 顯示圖表 *@
                                myChart = new Chart(
                                    document.getElementById('myChart'),
                                    config
                                );//顯示圖表

                            })
                        //axios                
              
            },

        }
    )

    var data = {
        labels:'',
        datasets: [
            {
                 label: '訂單數量',
                backgroundColor: 'rgb(230, 217, 50)', //含羞草黃
                 borderColor: 'rgb(255, 99, 132)',
                 data: [],
            },
                        
        ],

    };

    var config = {
        type: 'bar',
        data: data,
        options: {}
    };

</script>